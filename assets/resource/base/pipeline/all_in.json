{
    "AllIn": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountInit",
                "custom_action_param": {
                    "target_count": 114514
                }
            }
        },
        "next": [
            "TargetCountDetermine"
        ]
    },
    "TargetCountDetermine": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountDetermine"
            }
        },
        "next": [
            "TargetCountOpenPanel"
        ]
    },
    "TargetCountOpenPanel": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    737,
                    586,
                    174,
                    134
                ],
                "template": "Combat/OpenReplaysTimes.png"
            }
        },
        "action": {
            "type": "Click"
        },
        "post_delay": 1000,
        "next": [
            "TargetCountSelectTimes",
            "TargetCountOpenPanel"
        ]
    },
    "TargetCountSelectTimes": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountSelectTimes"
            }
        },
        "next": [
            "TargetCountStartReplay"
        ]
    },
    "TargetCountStartReplay": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    1030,
                    634,
                    139,
                    33
                ],
                "expected": [
                    "复现"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "TargetCountReplaying",
            "TargetCountStartReplay"
        ]
    },
    "TargetCountReplaying": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    1078,
                    77,
                    202,
                    143
                ],
                "expected": [
                    "行为",
                    "复现"
                ]
            }
        },
        "post_delay": 5000,
        "timeout": 240000,
        "next": [
            "CheckStopping",
            "TargetCountReplaying",
            "TargetCountVictory"
        ]
    },
    "TargetCountVictory": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    678,
                    10,
                    473,
                    240
                ],
                "expected": [
                    "战斗",
                    "胜利"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "pre_wait_freezes": {
            "time": 500,
            "target": [
                614,
                457,
                666,
                263
            ]
        },
        "post_wait_freezes": {
            "time": 500,
            "target": [
                614,
                457,
                666,
                263
            ]
        },
        "next": [
            "TargetCountVictory",
            "TargetCountWaitReplay",
            "[JumpBack]CombatEntering"
        ]
    },
    "TargetCountWaitReplay": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    1097,
                    630,
                    68,
                    41
                ],
                "expected": [
                    "复现"
                ]
            }
        },
        "next": [
            "TargetCountProgress",
            "TargetCountWaitReplay"
        ]
    },
    "TargetCountProgress": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountProgress"
            }
        },
        "next": [
            "TargetCountDetermine"
        ]
    },
    "TargetCountEatCandy": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountEatCandy"
            }
        },
        "next": [
            "TargetCountDetermine"
        ]
    },
    "TargetCountFinish": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountFinish"
            }
        },
        "next": []
    },
    "TargetCountAbort": {
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "TargetCountAbort"
            }
        },
        "next": []
    },
    "RecognizeRemainingAp": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    1146,
                    26,
                    43,
                    19
                ],
                "replace": [
                    [
                        "@",
                        "0"
                    ],
                    [
                        "。",
                        "0"
                    ]
                ],
                "expected": [
                    "^(?:[0-9]{1,3}|1[0-9]{3})$"
                ]
            }
        }
    },
    "RecognizeStageAp": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    952,
                    640,
                    70,
                    37
                ],
                "expected": [
                    "^(?:[0-9]{1,3}|1[01][0-9]{2}|1200)$"
                ],
                "replace": [
                    [
                        "-",
                        ""
                    ]
                ]
            }
        }
    },
    "RecognizeCombatTimes": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    844,
                    646,
                    16,
                    22
                ],
                "expected": [
                    "^[1-4]$"
                ]
            }
        }
    },
    "OpenReplaysTimes": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    737,
                    586,
                    174,
                    134
                ],
                "template": "Combat/OpenReplaysTimes.png"
            }
        },
        "action": {
            "type": "Click"
        },
        "post_delay": 1000,
        "next": [
            "SetReplaysTimes",
            "OpenReplaysTimes"
        ]
    },
    "SetReplaysTimes": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "template_code": "Set in interface.json.",
                "roi": [
                    751,
                    333,
                    188,
                    347
                ],
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "SetReplaysTimes",
            "StartReplay"
        ]
    },
    "StartReplay": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    1030,
                    634,
                    139,
                    33
                ],
                "expected": [
                    "复现"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "next": [
            "Replaying",
            "StartReplay"
        ]
    },
    "Replaying": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    1078,
                    77,
                    202,
                    143
                ],
                "expected": [
                    "行为",
                    "复现"
                ]
            }
        },
        "post_delay": 5000,
        "timeout": 240000,
        "next": [
            "CheckStopping",
            "Replaying",
            "Victory"
        ]
    },
    "Victory": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    678,
                    10,
                    473,
                    240
                ],
                "expected": [
                    "战斗",
                    "胜利"
                ]
            }
        },
        "action": {
            "type": "Click"
        },
        "pre_wait_freezes": {
            "time": 500,
            "target": [
                614,
                457,
                666,
                263
            ]
        },
        "post_wait_freezes": {
            "time": 500,
            "target": [
                614,
                457,
                666,
                263
            ]
        },
        "next": [
            "Victory",
            "WaitReplay",
            "[JumpBack]CombatEntering"
        ]
    },
    "WaitReplay": {
        "recognition": {
            "type": "OCR",
            "param": {
                "only_rec": true,
                "roi": [
                    1097,
                    630,
                    68,
                    41
                ],
                "expected": [
                    "复现"
                ]
            }
        },
        "next": [
            "ResetEatCandyFlag"
        ]
    },
    "DropRegionRec": {
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    661,
                    549,
                    598,
                    68
                ],
                "template": [
                    "Items_processed/"
                ],
                "green_mask": true,
                "method": 1,
                "threshold": 0.15,
                "order_by": "Score",
                "index": -1
            }
        }
    },
    "DropCountRec": {
        "recognition": {
            "type": "OCR",
            "param": {
                "expected": [
                    "\\d+"
                ]
            }
        }
    },
    "DropRarityGold": {
        "recognition": "ColorMatch",
        "lower": [
            245,
            245,
            112
        ],
        "upper": [
            255,
            255,
            132
        ],
        "count": 150
    },
    "DropRarityYellow": {
        "recognition": "ColorMatch",
        "lower": [
            189,
            159,
            86
        ],
        "upper": [
            209,
            179,
            106
        ],
        "count": 200
    },
    "DropRarityPurple": {
        "recognition": "ColorMatch",
        "lower": [
            127,
            90,
            129
        ],
        "upper": [
            147,
            110,
            149
        ],
        "count": 90
    },
    "DropRarityBlue": {
        "recognition": "ColorMatch",
        "lower": [
            90,
            100,
            129
        ],
        "upper": [
            110,
            120,
            149
        ],
        "count": 200
    },
    "DropRarityGreen": {
        "recognition": "ColorMatch",
        "lower": [
            86,
            117,
            78
        ],
        "upper": [
            106,
            137,
            98
        ],
        "count": 200
    }
}